# Character Relationship Mapping

This is a project to test the capability of natural language processing in the process of character identification from a book series. The project consists of a webscraper, a python script to create the character maps and a second script to create a dashboard so as to visualize the character maps.

## Webscraper (scraper.ipynb)

This notebook functions to scrape the character webpage of the Witcher fandom website. The scraping of is done through the selenium library and runs windowless with the FireFox drivers provided by the Gecko Driver Manager. 

The names of the characters are stored in a pandas dataframe, matched to the books in which they appear. The names are then filtered to find only the first name of the characters and this is stored in a new column to allow more accurate identification. The column containing the books names is also cleaned to ensure that only the name of the book is kept as the webpage formatting does add unnecessary text.

## Relationship map creation
There are 2 files in this repository related to the relationship map creation, a notebook and a python script. The notebook (relationship_creation.ipynb) contains the exact same process as the script, however it was used to test the principle of the program on only 1 of the books that were used in the final iteration and serves as a method to test the thought process and inspect the output of the code in chunks.

The full process of the code is:
- Load spacy module and all the books stored in a data folder
- Convert the books into text that can be parsed by the spacy module and using the module to create a dataframe of the entities found in the text
- Filter and clean the dataframe to contain only characters from the lists generated by the webscraper and specifically their first name
- From here we use a window over the sentences to determine that if the 2 characters appear together in this window they have some form of relationship with one another
- Using the window size decided upon the characters are then connected in a new dataframe to specify a relationship
- This relationship dataframe is sorted and a weight column generated to specify the number of instances in which a relationship between them was detected
- This relationship dataframe is saved as the basis of the character relationship map

In the notebook, relationship_creation.ipynb, the dataframe was visualized using the networkx graphing library to ensure that the format of the dataframe was suitable to generate network graphs.

## Dashboard



